<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>弹性运动</title>
<style>
body,div{margin:0;padding:0;}
div{width:300px;height:20px;background:#BFBFBF;position:absolute;top:0;left:0;font-size:30px; font-weight:bold; line-height:100px;}
</style>
<script>
window.onload = function(){
	var d = document.body.children[0];
	elasticMove(d,'left',100);	
	
	d.onmouseover = function(){
		elasticMove(d,'top',300,function(){
				elasticMove(d,'left',500);
		});	
	}
}

function elasticMove(obj, attr, target, endFn){
	clearInterval( obj.timer );
	
	obj.timer = setInterval(function(){
		var oAttr = parseInt(getStyle(obj, attr));
		//取上一次的弹性运动速度,没有就=0
		var speed = obj.eSpeed ? obj.eSpeed : 0;  
		//计算当次弹性运动的速度
		speed += (target - oAttr)/4; 
		//给弹性运动增加摩擦力 [损耗]
		speed *= 0.7;
		
		oAttr += speed;
		
		//保存这次的弹性运动速度
		obj.eSpeed = speed;		
		obj.style[attr] =oAttr + 'px';
		
		//当差值小于1px时, 关闭定时器
		if(Math.abs(oAttr - target) < 1 ){
			obj.style[attr] = target + 'px';
			obj.eSpeed = 0;
			clearInterval( obj.timer );
			endFn && endFn(obj);	
		}
	},30);
}

function getStyle ( obj, attr ) { 
	return obj.currentStyle?obj.currentStyle[attr] : getComputedStyle( obj )[attr]; 
}
</script>
</head>

<body>
<div>Σ( ° △ °|||)︴</div>
</body>
</html>
